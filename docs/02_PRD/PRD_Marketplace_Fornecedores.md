---
√∫ltima_atualiza√ß√£o: 2025-12-18 00:30
agent: Claude Code
vers√£o: 1.0
status: Draft (Aguardando Aprova√ß√£o Eurico)
prioridade: P0 (Cr√≠tica)
---

# PRD - Marketplace Fornecedores iaMenu

> **Ferramenta:** Marketplace Fornecedores (Supplier Marketplace)
> **Objetivo:** Reduzir custos ‚Ç¨200-400/m√™s via transpar√™ncia pre√ßos + negocia√ß√£o coletiva
> **Prioridade:** P0 - Priority #1 (junto com Comunidade)
> **Timeline:** Semana 3-4 (MVP em 1-2 semanas ap√≥s Comunidade)

---

## üìã METADATA

| Campo | Valor |
|-------|-------|
| **Produto** | iaMenu Marketplace Fornecedores |
| **Owner** | Eurico Alves |
| **Stakeholders** | Restauradores PT, Fornecedores, Distribuidores |
| **Data Cria√ß√£o** | 2025-12-18 |
| **√öltima Revis√£o** | 2025-12-18 |
| **Status** | Draft ‚Üí Review ‚Üí Approved ‚Üí In Development |
| **Vers√£o** | 1.0 |

---

## 1. CONTEXTO & PROBLEMA

### üéØ Contexto de Neg√≥cio

**Mercado Restaura√ß√£o Portuguesa (2025):**
- **‚Ç¨200-400/m√™s desperd√≠cio** por restaurante (documentado pesquisa)
- Fornecedores opacos (pre√ßos variam 20-40% sem justifica√ß√£o)
- Zero transpar√™ncia (cada restaurante negocia sozinho)
- Poder negocial baixo (volumes pequenos)
- Rela√ß√µes informais (WhatsApp, sem contratos)

**Dores Identificadas (Pesquisa Mercado):**

**Restauradores:**
1. **N√£o sabem pre√ßos de mercado**: Pagam ‚Ç¨X, ser√° justo? Nunca saber√£o
2. **Zero poder negocial**: Pequeno volume = aceitar pre√ßo imposto
3. **Fornecedores n√£o confi√°veis**: Entregas atrasadas, qualidade varia, sem reviews
4. **Mudan√ßa dif√≠cil**: Medo mudar fornecedor (e se for pior?)
5. **Compara√ß√£o imposs√≠vel**: Cerveja X vs Y? Qual mais barato para meu volume?
6. **Desperd√≠cio financeiro**: ‚Ç¨200-400/m√™s pagos a mais (somam ‚Ç¨2400-4800/ano!)

**Fornecedores:**
1. **Dif√≠cil chegar a clientes**: Marketing caro, dependem de comerciais
2. **Competi√ß√£o s√≥ pre√ßo**: Race to bottom, margens apertadas
3. **Sem reviews**: Qualidade superior n√£o reconhecida
4. **Pagamentos atrasados**: Restaurantes peque√±os = risco

### üî• Problema a Resolver

**"Restauradores portugueses pagam 20-40% a mais em fornecimentos porque negociam sozinhos e sem transpar√™ncia."**

- Nenhum lugar comprar pre√ßos (opacidade total)
- Zero reviews confi√°veis (tudo boca-a-boca informal)
- Cada um negocia sozinho (volume baixo = pre√ßo alto)
- Fornecedores bons escondidos (descoberta dif√≠cil)

### üí∞ Impacto Financeiro

**Se resolver:**

**Para Restauradores:**
- **Redu√ß√£o custos:** ‚Ç¨200-400/m√™s (‚Ç¨2400-4800/ano)
- **ROI iaMenu:** ‚Ç¨88/m√™s paga-se sozinho em 1 m√™s!
- **Tempo poupado:** 5-10h/m√™s (pesquisar, negociar, comparar)
- **Risco reduzido:** Reviews = escolher fornecedores confi√°veis

**Para Fornecedores:**
- **Novos clientes:** Acesso direto 50-500 restaurantes
- **Diferencia√ß√£o:** Reviews positivos = premium price
- **Vendas previs√≠veis:** Contratos coletivos = volume garantido
- **Marketing gr√°tis:** Plataforma substitui comerciais

**Para iaMenu (Eurico):**
- **Lock-in:** Marketplace cria depend√™ncia (churn <5%)
- **Revenue futuro:** Comiss√£o 2-5% transa√ß√µes (n√£o no MVP)
- **Crescimento viral:** Fornecedores trazem restaurantes (e vice-versa)
- **‚Ç¨10k MRR vi√°vel:** Se 100 restaurantes poupam ‚Ç¨300/m√™s, pagam ‚Ç¨88 felizes

**Se N√ÉO resolver:**
- Restauradores continuam desperdi√ßar ‚Ç¨200-400/m√™s
- Competi√ß√£o (ex: Zomato, TheFork) pode lan√ßar marketplace
- Proposta valor iaMenu fica fraca (s√≥ menu digital)

---

## 2. OBJETIVOS & M√âTRICAS

### üéØ Objetivos de Produto

**Prim√°rios:**
1. **Reduzir custos fornecimentos** ‚Ç¨200-400/m√™s/restaurante (50 restaurantes = ‚Ç¨10k-20k/m√™s poupados)
2. **Criar diret√≥rio 100+ fornecedores** em 3 meses (categorias: bebidas, carne, peixe, legumes, limpeza, equipamento)
3. **Transpar√™ncia pre√ßos** (compara√ß√£o lado-a-lado, ver pre√ßos m√©dios mercado)
4. **Negocia√ß√£o coletiva** (10+ restaurantes = desconto 10-15%)
5. **Reviews confi√°veis** (5-star ratings + coment√°rios detalhados)

**Secund√°rios:**
6. Conectar com Comunidade (grupos negocia√ß√£o no Hub)
7. Analytics fornecimentos (quanto gasto/m√™s por categoria)
8. Alertas oportunidades (novo fornecedor, desconto coletivo dispon√≠vel)

### üìä M√©tricas de Sucesso

**M√©tricas Prim√°rias (North Star):**
- **Fornecedores registados**: 100+ em 3 meses
- **Reviews criados**: 200+ em 3 meses (m√©dia 2 reviews/fornecedor)
- **Compara√ß√µes pre√ßos**: 500+/m√™s (users comparando ativamente)
- **Savings documentados**: ‚Ç¨10k-20k/m√™s total (todos restaurantes)
- **Negocia√ß√µes coletivas**: 5+ em 3 meses (min 10 restaurantes cada)

**M√©tricas Secund√°rias:**
- **Fornecedores contactados**: 30%+ via plataforma (vs WhatsApp)
- **Tempo decis√£o**: <7 dias (vs 30 dias pesquisa manual)
- **Mudan√ßas fornecedor**: 20% users mudam ap√≥s usar marketplace
- **NPS Fornecedores**: >60 (adoram acesso direto clientes)

**M√©tricas de Neg√≥cio:**
- **ROI iaMenu provado**: ‚Ç¨88/m√™s < ‚Ç¨200-400 poupados (payback <1 m√™s!)
- **Upgrade PRO**: 30% (querem acesso fornecedores premium)
- **Churn reduction**: <5% (vs 15% sem marketplace)

**Milestone 1 (M√™s 1):**
- 30 fornecedores registados
- 50 reviews
- 1 negocia√ß√£o coletiva (cerveja)
- ‚Ç¨5k savings documentados

**Milestone 2 (M√™s 3):**
- 100 fornecedores
- 200 reviews
- 5 negocia√ß√µes coletivas
- ‚Ç¨20k savings documentados

---

## 3. PERSONAS

### üë§ Persona Prim√°ria: "Jo√£o - O Empres√°rio Que Quer Poupar"

**Baseado em:** REST. Sanak Bar Alturense (120 lugares, Algarve)

**Demographics:**
- Idade: 40-55 anos
- Cargo: Dono/Gerente
- Restaurante: Tradicional, 120 lugares, ‚Ç¨15k fatura√ß√£o/m√™s
- Custos fornecimentos: ‚Ç¨5k/m√™s (33% fatura√ß√£o - ALTO!)
- Fornecedores: 8-12 (bebidas, carnes, peixe, legumes, limpeza)

**Dores:**
- **N√£o sabe se pre√ßos s√£o justos**: Paga ‚Ç¨X/caixa cerveja, ser√° normal?
- **N√£o consegue negociar**: Fornecedor diz "√© o pre√ßo", aceita ou n√£o
- **Medo mudar**: "E se novo fornecedor for pior? Perco clientes"
- **Sem tempo comparar**: Ligar 5 fornecedores = 3h (n√£o tem)
- **Desperd√≠cio financeiro**: Sabe que paga a mais mas n√£o sabe quanto

**Objetivos:**
- **Reduzir custos 10-20%** (‚Ç¨500-1000/m√™s = ‚Ç¨6k-12k/ano!)
- **Ver pre√ßos mercado** (benchmarking)
- **Ler reviews outros** restauradores (confian√ßa)
- **Negociar melhor** (uni√£o com outros restaurantes)
- **Descobrir fornecedores novos** (melhores)

**Jobs to be Done:**
- "Quando recebo fatura cerveja, quero comparar pre√ßo m√©dio mercado, para saber se justo"
- "Quando fornecedor atrasa entrega, quero ver reviews antes de renovar contrato"
- "Quando quero mudar carne, quero comparar 3 fornecedores lado-a-lado em 5min"

**Sucesso = "Poupei ‚Ç¨300/m√™s mudando 2 fornecedores. iaMenu pagou-se sozinho!"**

---

### üë§ Persona Secund√°ria: "Carlos - O Fornecedor Que Quer Crescer"

**Demographics:**
- Idade: 35-50 anos
- Cargo: Dono/Comercial
- Empresa: Distribuidor regional (ex: bebidas Algarve)
- Clientes: 20-50 restaurantes (maioria pequenos)
- Fatura√ß√£o: ‚Ç¨50k-200k/m√™s

**Dores:**
- **Dif√≠cil encontrar clientes**: Bate portas, frio calling, caro
- **Competi√ß√£o feroz**: Grandes distribuidores (Sysco, Makro) t√™m pre√ßos melhores
- **Sem diferencia√ß√£o**: Competi√ß√£o s√≥ pre√ßo = margens apertadas
- **Pagamentos atrasados**: Restaurantes pequenos = risco
- **Marketing caro**: Facebook Ads, comerciais = ROI baixo

**Objetivos:**
- **Acesso direto 50-500 restaurantes** (sem intermedi√°rios)
- **Reviews positivos** (provar qualidade superior)
- **Contratos longo prazo** (previsibilidade)
- **Reduzir custos aquisi√ß√£o cliente** (CAC ‚Ç¨500 ‚Üí ‚Ç¨50)

**Jobs to be Done:**
- "Quando tenho capacidade extra, quero oferecer desconto coletivo a 10+ restaurantes"
- "Quando restaurante pesquisa 'cerveja Algarve', quero aparecer com 5 stars"
- "Quando novo restaurante abre, quero ser contactado automaticamente"

**Sucesso = "Ganhei 15 clientes novos em 2 meses sem contratar comercial!"**

---

### üë• Persona Terci√°ria: "Miguel - O Chef Que Procura Qualidade"

**Demographics:**
- Idade: 30-45 anos
- Cargo: Chef/Cozinheiro
- Restaurante: Fine dining (50 lugares)
- Foco: Qualidade ingredientes > pre√ßo

**Dores:**
- **Fornecedores tradicionais = qualidade m√©dia**: Quer melhor
- **Produtos especiais dif√≠ceis**: (ex: cogumelos silvestres, peixes raros)
- **Sem tempo pesquisar**: Precisa recomenda√ß√µes confi√°veis

**Objetivos:**
- **Descobrir fornecedores premium** (nicho, alta qualidade)
- **Ver reviews chefs outros** (peers respeitados)
- **Compara√ß√£o qualidade** (n√£o s√≥ pre√ßo)

---

## 4. USER JOURNEY

### üìç Jornada Atual (Sem Marketplace)

```
[Jo√£o quer mudar fornecedor cerveja]
‚Üí Pergunta amigo restaurador (WhatsApp)
‚Üí Amigo recomenda fornecedor X
‚Üí Liga fornecedor X (espera 2 dias callback)
‚Üí Negoceia pre√ßo (aceita 1¬™ oferta, sem benchmarking)
‚Üí Testa 1 m√™s (se mau, recome√ßa processo)
‚Üí TOTAL: 30 dias, 5h trabalho, 0 garantias
```

**Resultado:** Processo longo, sem transpar√™ncia, alto risco

---

### üéØ Jornada Futura (Com Marketplace)

#### **Fase 1: Descoberta Problema (Dia 1)**

```
[Jo√£o recebe fatura cerveja: ‚Ç¨1200/m√™s]
‚Üí Pensa: "Ser√° normal?"
‚Üí Abre iaMenu ‚Üí Marketplace
‚Üí Pesquisa: "Cerveja Sagres 20L barril"
‚Üí V√™ compara√ß√£o 5 fornecedores:

   Fornecedor A: ‚Ç¨80/barril (atual Jo√£o)
   Fornecedor B: ‚Ç¨75/barril ‚≠ê 4.8 stars (15 reviews)
   Fornecedor C: ‚Ç¨72/barril ‚≠ê 4.5 stars (8 reviews)
   Fornecedor D: ‚Ç¨85/barril (premium)
   M√©dia mercado: ‚Ç¨76/barril

‚Üí Jo√£o descobre: paga ‚Ç¨4/barril a mais!
‚Üí 15 barris/m√™s = ‚Ç¨60/m√™s = ‚Ç¨720/ano desperdi√ßado! üò±
```

**Resultado:** Awareness do problema (estava a pagar a mais!)

---

#### **Fase 2: Research Fornecedores (Dia 1-2)**

```
[Jo√£o clica Fornecedor B - mais barato com boas reviews]
‚Üí V√™ perfil completo:
   - Nome: Distribuidora Cervejeira Sul
   - Localiza√ß√£o: Faro (40km dele)
   - Rating: ‚≠ê 4.8/5 (15 reviews)
   - Entregas: 2x/semana
   - Min order: ‚Ç¨200
   - Payment terms: 30 dias

‚Üí L√™ reviews:
   ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Entregas pontuais, qualidade top!" - Pedro (Lisboa)
   ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Mudei h√° 3 meses, poupo ‚Ç¨150/m√™s" - Ana (Albufeira)
   ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ "Bom pre√ßo mas entregas √†s vezes atrasam" - Miguel (Portim√£o)

‚Üí Compara com Fornecedor C (ainda mais barato):
   - Rating: ‚≠ê 4.5/5 (menos reviews)
   - Review negativo recente: "Qualidade caiu, barris com problema"

‚Üí Jo√£o decide: Fornecedor B (equil√≠brio pre√ßo-qualidade)
```

**Resultado:** Decis√£o informada em 30 minutos (vs 30 dias)

---

#### **Fase 3: Contacto & Negocia√ß√£o (Dia 2-3)**

```
[Jo√£o contacta Fornecedor B via Marketplace]
‚Üí Clica "Pedir Or√ßamento"
‚Üí Formul√°rio autom√°tico:
   - Produto: Sagres 20L barril
   - Quantidade: 15 barris/m√™s
   - Entrega: Albufeira
   - Frequ√™ncia: Semanal

‚Üí Fornecedor responde <24h:
   "Ol√° Jo√£o, ‚Ç¨75/barril, entrega gr√°tis >‚Ç¨300. Come√ßa quando?"

‚Üí Jo√£o pergunta: "Vi grupo negocia√ß√£o coletiva cerveja no Hub. Posso juntar-me?"
‚Üí Fornecedor: "Sim! Se 10+ restaurantes, ‚Ç¨72/barril (desconto 4%)"

‚Üí Jo√£o vai ao Hub Comunidade ‚Üí Grupo "Negocia√ß√£o Coletiva Cerveja"
‚Üí J√° 8 restaurantes interessados
‚Üí Jo√£o junta-se (9¬∫)
‚Üí 2 dias depois: 10¬∫ restaurante entra
‚Üí Negocia√ß√£o ativa! üéâ
```

**Resultado:** Pre√ßo melhor (‚Ç¨72 vs ‚Ç¨80 atual = ‚Ç¨8/barril = ‚Ç¨120/m√™s savings!)

---

#### **Fase 4: Convers√£o & Teste (Semana 1)**

```
[Contrato coletivo assinado - 10 restaurantes]
‚Üí Jo√£o muda fornecedor
‚Üí 1¬∫ entrega: pontual, qualidade OK
‚Üí 1 m√™s depois: continua satisfeito
‚Üí Savings reais: ‚Ç¨120/m√™s cerveja + ‚Ç¨80/m√™s outros fornecimentos = ‚Ç¨200/m√™s! ‚úÖ
```

**Resultado:** ROI provado, Jo√£o evangelista iaMenu

---

#### **Fase 5: Review & Repeat (M√™s 2+)**

```
[Jo√£o deixa review Fornecedor B]
‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê "Excelente! Poupo ‚Ç¨120/m√™s s√≥ em cerveja. Entrega pontual."

[Jo√£o agora procura otimizar outros fornecimentos]
‚Üí Marketplace ‚Üí Categoria "Carnes"
‚Üí Compara fornecedores carne
‚Üí Descobre Fornecedor premium (qualidade superior, pre√ßo similar)
‚Üí Muda ‚Üí Clientes adoram ‚Üí fatura√ß√£o +5%

[Jo√£o torna-se advocate]
‚Üí Recomenda iaMenu a 3 amigos restauradores
‚Üí "Poupei ‚Ç¨200/m√™s, paga-se sozinho!"
```

**Resultado:** Lifecycle completo, LTV alto, CAC baixo (word-of-mouth)

---

## 5. REQUISITOS FUNCIONAIS

### üõ†Ô∏è Features MVP (Fase 1 - Semanas 3-4)

**Prioridade P0 (Cr√≠tica - MVP m√≠nimo):**

#### **5.1 Diret√≥rio Fornecedores**

**Descri√ß√£o:** Cat√°logo searchable de fornecedores com perfis completos

**User Stories:**
- Como restaurador, quero pesquisar fornecedores por categoria/localiza√ß√£o, para descobrir op√ß√µes
- Como restaurador, quero ver perfil completo fornecedor (produtos, pre√ßos, reviews), para avaliar
- Como fornecedor, quero criar perfil p√∫blico, para ser descoberto por restaurantes

**Funcionalidades:**

**Pesquisa & Filtros:**
- [ ] Pesquisa full-text (nome fornecedor, produtos, localiza√ß√£o)
- [ ] Filtros:
  - Categoria (bebidas, carne, peixe, legumes, equipamento, limpeza, diversos)
  - Localiza√ß√£o (distrito/regi√£o)
  - Rating (‚≠ê 4+ stars, 3+, todos)
  - Entrega (entrega gr√°tis, entrega nacional, regi√£o espec√≠fica)
  - Certifica√ß√µes (bio, sustent√°vel, HACCP)
- [ ] Ordenar (relev√¢ncia, rating, pre√ßo, dist√¢ncia)
- [ ] Resultados paginados (20/p√°gina)

**Perfil Fornecedor (P√∫blico):**
- [ ] Informa√ß√£o base:
  - Nome empresa
  - Logo/foto
  - Descri√ß√£o (500 chars)
  - Categorias (multi-select)
  - Localiza√ß√£o (cidade/regi√£o/nacional)
  - Contactos (telefone, email, website)
- [ ] Produtos/Servi√ßos:
  - Lista produtos principais (ex: "Cerveja, Vinho, Refrigerantes")
  - Pre√ßos indicativos (opcional, pode ocultar)
  - Cat√°logo PDF (upload)
- [ ] Condi√ß√µes:
  - Entrega (√¢mbito, custos, frequ√™ncia)
  - Min order (‚Ç¨X)
  - Payment terms (30/60/90 dias)
  - Certifica√ß√µes (badges)
- [ ] Estat√≠sticas:
  - Rating m√©dio (‚≠ê X.X/5)
  - Total reviews
  - Clientes ativos (opcional)
  - Membro desde

**Dados/Campos:**
```typescript
Supplier {
  id: UUID
  user_id: UUID (FK users.id - fornecedor cria conta)
  company_name: string
  logo_url: string | null
  description: string (max 500 chars)
  categories: string[] (ex: ['bebidas', 'limpeza'])
  location_city: string
  location_region: string
  national_delivery: boolean

  contact_phone: string
  contact_email: string
  contact_website: string | null

  products_description: string (max 1000 chars)
  catalog_pdf_url: string | null
  price_list_public: boolean (mostrar pre√ßos ou n√£o)

  delivery_zones: string[] (ex: ['Algarve', 'Lisboa'])
  delivery_cost: string (ex: "Gr√°tis >‚Ç¨300")
  delivery_frequency: string (ex: "2x/semana")
  min_order: number (euros)
  payment_terms: string (ex: "30 dias")

  certifications: string[] (ex: ['bio', 'haccp'])

  rating_avg: number (calculado)
  review_count: number (calculado)

  created_at: timestamp
  updated_at: timestamp
  verified: boolean (admin aprova)
}
```

---

#### **5.2 Sistema Reviews & Ratings**

**Descri√ß√£o:** Restauradores avaliam fornecedores (5 stars + coment√°rio)

**User Stories:**
- Como restaurador, quero deixar review fornecedor, para ajudar outros
- Como restaurador, quero ler reviews, para decidir qual fornecedor usar
- Como fornecedor, quero responder reviews, para mostrar customer service

**Funcionalidades:**
- [ ] Criar review:
  - Rating 1-5 stars (obrigat√≥rio)
  - Categorias avalia√ß√£o:
    - Qualidade produto (1-5)
    - Pontualidade entrega (1-5)
    - Pre√ßo justo (1-5)
    - Atendimento (1-5)
  - Coment√°rio (opcional, max 500 chars)
  - Recomenda? (Sim/N√£o)
  - An√≥nimo ou nome p√∫blico (user escolhe)
- [ ] Listar reviews (ordenar: recente, √∫til, rating)
- [ ] √ötil/In√∫til review (thumbs up/down)
- [ ] Fornecedor responde review (1 resposta por review)
- [ ] Report review (spam/fake)
- [ ] Verifica√ß√£o "Compra verificada" (futuro: se compra via plataforma)

**Regras Neg√≥cio:**
- S√≥ restauradores ativos iaMenu podem review
- 1 review por fornecedor (pode editar)
- Fornecedor n√£o pode apagar review (s√≥ admin em caso abuse)
- Rating m√©dio = m√©dia ponderada (recentes pesam mais)

**Dados/Campos:**
```typescript
Review {
  id: UUID
  supplier_id: UUID (FK suppliers.id)
  reviewer_id: UUID (FK users.id - restaurador)

  rating_overall: number (1-5, obrigat√≥rio)
  rating_quality: number (1-5)
  rating_delivery: number (1-5)
  rating_price: number (1-5)
  rating_service: number (1-5)

  comment: string (max 500 chars, opcional)
  recommend: boolean
  anonymous: boolean (mostrar nome ou "Restaurador An√≥nimo")

  helpful_count: number (thumbs up)
  unhelpful_count: number (thumbs down)

  supplier_response: string | null (resposta fornecedor)
  supplier_response_at: timestamp | null

  verified_purchase: boolean (futuro)

  created_at: timestamp
  updated_at: timestamp
}

ReviewHelpful {
  review_id: UUID
  user_id: UUID
  helpful: boolean (true = helpful, false = unhelpful)
  PRIMARY KEY (review_id, user_id)
}
```

---

#### **5.3 Compara√ß√£o Pre√ßos (Price Comparison)**

**Descri√ß√£o:** Comparar pre√ßos mesmo produto entre fornecedores

**User Stories:**
- Como restaurador, quero comparar pre√ßos produto X entre 3-5 fornecedores, para escolher melhor deal
- Como restaurador, quero ver pre√ßo m√©dio mercado, para saber se meu fornecedor atual √© justo
- Como restaurador, quero calcular savings potenciais, para decidir mudar

**Funcionalidades:**
- [ ] Pesquisar produto (ex: "Cerveja Sagres 20L")
- [ ] Ver lista fornecedores que vendem + pre√ßos
- [ ] Compara√ß√£o lado-a-lado (tabela):
  ```
  Produto: Cerveja Sagres 20L Barril

  Fornecedor A | ‚Ç¨80  | ‚≠ê 4.8 | Entrega gr√°tis | [Ver]
  Fornecedor B | ‚Ç¨75  | ‚≠ê 4.5 | Entrega ‚Ç¨20    | [Ver]
  Fornecedor C | ‚Ç¨72  | ‚≠ê 4.2 | Entrega gr√°tis | [Ver]

  M√©dia mercado: ‚Ç¨76
  Teu atual (se informar): ‚Ç¨80
  Savings potencial: ‚Ç¨8/un √ó 15/m√™s = ‚Ç¨120/m√™s
  ```
- [ ] Filtros: localiza√ß√£o, rating m√≠nimo
- [ ] Ordenar: pre√ßo (low-high), rating (high-low), dist√¢ncia
- [ ] Alertas pre√ßo (futuro): "Notifica-me se pre√ßo baixar <‚Ç¨70"

**Dados/Campos:**
```typescript
Product {
  id: UUID
  name: string (ex: "Cerveja Sagres 20L Barril")
  category: string
  subcategory: string | null
  unit: string (ex: "barril", "kg", "caixa")
  description: string | null
  image_url: string | null

  created_at: timestamp
}

SupplierProduct {
  id: UUID
  supplier_id: UUID
  product_id: UUID

  price: number (‚Ç¨)
  unit: string
  min_quantity: number | null
  delivery_included: boolean

  available: boolean
  updated_at: timestamp (pre√ßo atualizado)

  UNIQUE (supplier_id, product_id)
}
```

**Nota:** No MVP, produtos s√£o **criados manualmente** (admin/Eurico seeds). Futuro: fornecedores adicionam pr√≥prios produtos.

---

#### **5.4 Pedidos Or√ßamento (RFQ - Request for Quote)**

**Descri√ß√£o:** Restaurador pede or√ßamento a 1 ou m√∫ltiplos fornecedores via plataforma

**User Stories:**
- Como restaurador, quero pedir or√ßamento fornecedor, sem sair plataforma
- Como restaurador, quero enviar mesmo pedido a 3 fornecedores, para comparar ofertas
- Como fornecedor, quero receber pedidos or√ßamento, e responder r√°pido

**Funcionalidades:**

**Restaurador (Request):**
- [ ] Bot√£o "Pedir Or√ßamento" em perfil fornecedor
- [ ] Formul√°rio:
  - Produtos (lista: produto + quantidade + unidade)
  - Frequ√™ncia entrega (semanal/quinzenal/mensal/pontual)
  - Localiza√ß√£o entrega (address restaurante)
  - Observa√ß√µes (max 500 chars)
  - Data in√≠cio preferida
- [ ] Enviar para 1 ou m√∫ltiplos fornecedores (max 5)
- [ ] Dashboard "Meus Or√ßamentos":
  - Pendentes (aguardando resposta)
  - Respondidos (ver ofertas)
  - Comparar ofertas lado-a-lado
- [ ] Aceitar oferta (n√£o vinculativo, apenas expressa interesse)
- [ ] Mensagem direta com fornecedor (mini-chat)

**Fornecedor (Quote):**
- [ ] Notifica√ß√£o email + in-app "Novo pedido or√ßamento"
- [ ] Ver pedido:
  - Dados restaurante (nome, localiza√ß√£o)
  - Produtos solicitados
  - Observa√ß√µes
- [ ] Responder:
  - Pre√ßos por produto
  - Condi√ß√µes entrega
  - Payment terms
  - Validade oferta (ex: 15 dias)
  - Observa√ß√µes
- [ ] Dashboard "Meus Or√ßamentos":
  - Recebidos (pendentes resposta)
  - Respondidos (aguardando decis√£o restaurante)
  - Aceites (converter em cliente)

**Dados/Campos:**
```typescript
QuoteRequest {
  id: UUID
  restaurant_id: UUID (FK users.id)
  suppliers: UUID[] (FK suppliers.id, 1-5 fornecedores)

  items: {
    product_name: string
    quantity: number
    unit: string
    notes: string | null
  }[]

  delivery_frequency: string (ex: "weekly")
  delivery_address: string
  notes: string | null
  preferred_start_date: date | null

  status: 'pending' | 'quoted' | 'accepted' | 'cancelled'

  created_at: timestamp
  updated_at: timestamp
}

Quote {
  id: UUID
  quote_request_id: UUID
  supplier_id: UUID

  items: {
    product_name: string
    quantity: number
    unit: string
    price_per_unit: number
    total: number
  }[]

  delivery_terms: string
  payment_terms: string
  valid_until: date
  notes: string | null

  status: 'sent' | 'accepted' | 'rejected' | 'expired'

  created_at: timestamp
  updated_at: timestamp
}
```

---

#### **5.5 Integra√ß√£o Hub Comunidade (Negocia√ß√£o Coletiva)**

**Descri√ß√£o:** Grupos no Hub podem negociar descontos coletivos com fornecedores

**User Stories:**
- Como restaurador, quero ver grupos negocia√ß√£o ativos, para juntar-me e poupar
- Como restaurador, quero criar grupo negocia√ß√£o novo produto, se n√£o existe
- Como fornecedor, quero oferecer desconto a grupos 10+, para ganhar volume

**Funcionalidades:**
- [ ] **No Hub Comunidade**: Grupo especial "Negocia√ß√µes Coletivas"
  - Sub-grupos por produto (ex: "Cerveja Sagres", "Carne Vaca", "Azeite")
  - Cada sub-grupo = 1 negocia√ß√£o ativa
- [ ] **No Marketplace**: Badge "Negocia√ß√£o Coletiva Dispon√≠vel"
  - Ex: "8/10 restaurantes. Junta-te para desconto 10%!"
  - Link para grupo Hub
- [ ] Criar negocia√ß√£o:
  - Produto espec√≠fico
  - Meta participantes (ex: 10)
  - Desconto esperado (ex: 10-15%)
  - Prazo (ex: 30 dias para atingir meta)
- [ ] Juntar negocia√ß√£o (restaurador expressa interesse)
- [ ] Quando meta atingida ‚Üí Fornecedor contactado automaticamente
- [ ] Fornecedor aceita/prop√µe contraoferta
- [ ] Contrato coletivo criado (todos participantes notificados)

**Dados/Campos:**
```typescript
CollectiveBargain {
  id: UUID
  creator_id: UUID (restaurador que criou)
  supplier_id: UUID | null (se fornecedor espec√≠fico, ou aberto)
  product_name: string
  category: string

  target_participants: number (ex: 10)
  current_participants: number
  participants: UUID[] (FK users.id)

  target_discount: string (ex: "10-15%")
  target_price: number | null (‚Ç¨)

  deadline: date (ex: 30 dias)
  status: 'open' | 'reached' | 'negotiating' | 'closed' | 'failed'

  supplier_offer: {
    discount: number (%)
    price: number (‚Ç¨)
    min_order: number
    conditions: string
  } | null

  community_group_id: UUID (FK community.groups)

  created_at: timestamp
  updated_at: timestamp
}
```

---

### üöÄ Features Fase 2 (M√™s 2) - Opcional

**Prioridade P1 (Importante mas n√£o MVP):**

#### **5.6 Analytics Fornecimentos**
- Dashboard pessoal: "Gastas ‚Ç¨X/m√™s em categoria Y"
- Compara√ß√£o: "M√©dia mercado = ‚Ç¨Y (poupas/gastas +‚Ç¨Z)"
- Trends: "Gastos cerveja subiram 15% √∫ltimos 3 meses"

#### **5.7 Favoritos & Watchlists**
- Guardar fornecedores favoritos
- Watch produto (alerta mudan√ßas pre√ßo)

#### **5.8 Transa√ß√µes via Plataforma**
- Checkout integrado (comprar via iaMenu)
- Pagamentos Stripe
- Comiss√£o 2-5% (revenue stream!)

---

### üîÆ Features Fase 3 (M√™s 3+) - Futuro

**Prioridade P2 (Nice to Have):**

#### **5.9 Marketplace Bidirecional**
- Fornecedores publicam promo√ß√µes/stock excesso
- Alertas "Deal Week": descontos tempor√°rios

#### **5.10 AI Recomenda√ß√µes**
- GPT-4 sugere fornecedores baseado perfil restaurante
- "Restaurantes similares usam fornecedor X e poupam ‚Ç¨Y"

#### **5.11 Contratos & Legal**
- Templates contratos fornecimento
- Assinatura digital
- Gest√£o renova√ß√µes

---

## 6. REQUISITOS N√ÉO-FUNCIONAIS

### ‚ö° Performance
- Pesquisa fornecedores: <1s
- Compara√ß√£o pre√ßos: <2s (at√© 10 fornecedores)
- Carregar perfil fornecedor: <1s

### üîí Seguran√ßa
- Pre√ßos n√£o p√∫blicos (s√≥ restauradores autenticados veem)
- Fornecedores n√£o veem quem pediu or√ßamento at√© responder
- Reviews verificados (s√≥ restauradores reais)
- RGPD: dados fornecedores e restaurantes protegidos

### üìà Escalabilidade
- 100 fornecedores MVP (Railway Free Tier OK)
- 500 fornecedores (Railway Hobby ‚Ç¨10/m√™s)
- 5000+ fornecedores (considerar CDN imagens, Elasticsearch search)

### üõ°Ô∏è Confiabilidade
- Uptime 99.5%
- Backups di√°rios PostgreSQL (Railway autom√°tico)

---

## 7. DESIGN & UX

### üé® Princ√≠pios de Design

1. **B2B Profissional mas Acess√≠vel:**
   - S√©rio (neg√≥cios) mas n√£o corporativo (frio)
   - Confian√ßa > Flashy

2. **Decis√µes R√°pidas:**
   - Compara√ß√£o lado-a-lado √≥bvia
   - CTAs claros ("Pedir Or√ßamento", "Comparar Pre√ßos")

3. **Transpar√™ncia Visual:**
   - Pre√ßos grandes, leg√≠veis
   - Reviews destacados
   - Savings calculados automaticamente

### üìê Wireframes MVP

#### **P√°gina Marketplace (Home)**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üè™ Marketplace  |  [üîç Pesquisar]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  üìä Poupan√ßas Este M√™s: ‚Ç¨1,247     ‚îÇ
‚îÇ  üí∞ Savings Potencial: ‚Ç¨340+       ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üî• Negocia√ß√µes Coletivas Ativas:   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ üç∫ Cerveja Sagres             ‚îÇ ‚îÇ
‚îÇ  ‚îÇ 8/10 participantes            ‚îÇ ‚îÇ
‚îÇ  ‚îÇ Desconto: 10%                 ‚îÇ ‚îÇ
‚îÇ  ‚îÇ [Juntar-me]                   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üìÇ Categorias:                     ‚îÇ
‚îÇ  [üç∫ Bebidas] [ü•© Carnes] [üêü Peixe]‚îÇ
‚îÇ  [ü•¨ Legumes] [üßπ Limpeza] [‚öôÔ∏è Equip]‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üåü Fornecedores Top Rated:         ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ Distribuidora Cervejeira Sul  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ‚≠ê 4.8 (15 reviews)           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ üìç Algarve | üç∫ Bebidas       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ [Ver Perfil]                  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### **Perfil Fornecedor**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚Üê Voltar  |  Fornecedor             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  [LOGO] Distribuidora Cervejeira Sul‚îÇ
‚îÇ         ‚≠ê 4.8/5 (15 reviews)       ‚îÇ
‚îÇ         üìç Faro, Algarve            ‚îÇ
‚îÇ         ‚úÖ Verificado               ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üì¶ Produtos: Cerveja, Vinho, Refrig‚îÇ
‚îÇ  üöö Entrega: Algarve (gr√°tis >‚Ç¨300) ‚îÇ
‚îÇ  üí≥ Payment: 30 dias                ‚îÇ
‚îÇ  üì¶ Min Order: ‚Ç¨200                 ‚îÇ
‚îÇ  üèÜ Certifica√ß√µes: HACCP            ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [üìã Pedir Or√ßamento] [üíæ Favorito] ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üí¨ Reviews (15):                   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Pedro Silva (Lisboa)     ‚îÇ
‚îÇ  "Entregas pontuais, qualidade top!"‚îÇ
‚îÇ  üëç 12 √∫til                         ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Ana Costa (Albufeira)    ‚îÇ
‚îÇ  "Mudei h√° 3 meses, poupo ‚Ç¨150/m√™s" ‚îÇ
‚îÇ  üëç 8 √∫til                          ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [Ver todas reviews]                ‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### **Compara√ß√£o Pre√ßos**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üîç Comparar Pre√ßos                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                     ‚îÇ
‚îÇ  Produto: Cerveja Sagres 20L Barril ‚îÇ
‚îÇ  üìç Algarve                         ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  Fornecedor A       ‚Ç¨80   ‚≠ê 4.8   ‚îÇ
‚îÇ  üöö Gr√°tis          [Ver Perfil]   ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  Fornecedor B       ‚Ç¨75   ‚≠ê 4.5   ‚îÇ
‚îÇ  üöö ‚Ç¨20             [Ver Perfil]   ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  Fornecedor C       ‚Ç¨72   ‚≠ê 4.2   ‚îÇ
‚îÇ  üöö Gr√°tis          [Ver Perfil]   ‚îÇ
‚îÇ  üí° COLETIVO: 8/10 participantes   ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  üìä M√©dia mercado: ‚Ç¨76              ‚îÇ
‚îÇ  üí∞ Teu atual: ‚Ç¨80 (informado)     ‚îÇ
‚îÇ  ‚úÖ Savings potencial:              ‚îÇ
‚îÇ     ‚Ç¨8/barril √ó 15/m√™s = ‚Ç¨120/m√™s  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  [Pedir Or√ßamentos (3 selecionados)]‚îÇ
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 8. DADOS & ANALYTICS

### üìä M√©tricas a Coletar

**Engagement:**
- Pesquisas (searches/dia)
- Perfis visitados
- Reviews criados
- Or√ßamentos pedidos
- Compara√ß√µes pre√ßos (clicks "Comparar")

**Convers√£o:**
- Fornecedores contatados (% via plataforma)
- Or√ßamentos respondidos (% fornecedores)
- Mudan√ßas fornecedor (% users)
- Savings documentados (‚Ç¨ total)

**Satisfa√ß√£o:**
- NPS Restauradores (adoram marketplace?)
- NPS Fornecedores (querem estar na plataforma?)
- Reviews rating m√©dio (>4.0 = bom marketplace)

---

## 9. ARQUITETURA T√âCNICA

### üèóÔ∏è Stack

**Backend:**
```
Node.js + TypeScript + Express
Prisma ORM
PostgreSQL 16 (schema: marketplace.*)
JWT auth (partilhado Core)
```

**Frontend:**
```
React + Tailwind CSS
React Query (cache)
```

**Infra:**
```
Railway (mesmo projeto Community API)
```

### üóÑÔ∏è Database Schema

```sql
-- Schema marketplace no PostgreSQL partilhado

CREATE TABLE marketplace.suppliers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL, -- FK users.id
  company_name VARCHAR(200) NOT NULL,
  logo_url TEXT,
  description TEXT,
  categories TEXT[] DEFAULT '{}',
  location_city VARCHAR(100),
  location_region VARCHAR(100),
  national_delivery BOOLEAN DEFAULT FALSE,

  contact_phone VARCHAR(50),
  contact_email VARCHAR(100),
  contact_website TEXT,

  products_description TEXT,
  catalog_pdf_url TEXT,
  price_list_public BOOLEAN DEFAULT FALSE,

  delivery_zones TEXT[],
  delivery_cost TEXT,
  delivery_frequency TEXT,
  min_order NUMERIC(10,2),
  payment_terms TEXT,

  certifications TEXT[],

  rating_avg NUMERIC(3,2) DEFAULT 0,
  review_count INT DEFAULT 0,

  verified BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE marketplace.reviews (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  supplier_id UUID NOT NULL,
  reviewer_id UUID NOT NULL,

  rating_overall INT CHECK (rating_overall BETWEEN 1 AND 5),
  rating_quality INT CHECK (rating_quality BETWEEN 1 AND 5),
  rating_delivery INT CHECK (rating_delivery BETWEEN 1 AND 5),
  rating_price INT CHECK (rating_price BETWEEN 1 AND 5),
  rating_service INT CHECK (rating_service BETWEEN 1 AND 5),

  comment TEXT,
  recommend BOOLEAN,
  anonymous BOOLEAN DEFAULT FALSE,

  helpful_count INT DEFAULT 0,
  unhelpful_count INT DEFAULT 0,

  supplier_response TEXT,
  supplier_response_at TIMESTAMP,

  verified_purchase BOOLEAN DEFAULT FALSE,

  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),

  UNIQUE (supplier_id, reviewer_id)
);

CREATE TABLE marketplace.products (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name VARCHAR(200) NOT NULL,
  category VARCHAR(100),
  subcategory VARCHAR(100),
  unit VARCHAR(50),
  description TEXT,
  image_url TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE marketplace.supplier_products (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  supplier_id UUID NOT NULL,
  product_id UUID NOT NULL,
  price NUMERIC(10,2),
  unit VARCHAR(50),
  min_quantity INT,
  delivery_included BOOLEAN DEFAULT FALSE,
  available BOOLEAN DEFAULT TRUE,
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE (supplier_id, product_id)
);

CREATE TABLE marketplace.quote_requests (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  restaurant_id UUID NOT NULL,
  suppliers UUID[] NOT NULL,
  items JSONB NOT NULL,
  delivery_frequency VARCHAR(50),
  delivery_address TEXT,
  notes TEXT,
  preferred_start_date DATE,
  status VARCHAR(20) DEFAULT 'pending',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE marketplace.quotes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  quote_request_id UUID NOT NULL,
  supplier_id UUID NOT NULL,
  items JSONB NOT NULL,
  delivery_terms TEXT,
  payment_terms TEXT,
  valid_until DATE,
  notes TEXT,
  status VARCHAR(20) DEFAULT 'sent',
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE marketplace.collective_bargains (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  creator_id UUID NOT NULL,
  supplier_id UUID,
  product_name VARCHAR(200) NOT NULL,
  category VARCHAR(100),
  target_participants INT,
  current_participants INT DEFAULT 1,
  participants UUID[] DEFAULT '{}',
  target_discount VARCHAR(50),
  target_price NUMERIC(10,2),
  deadline DATE,
  status VARCHAR(20) DEFAULT 'open',
  supplier_offer JSONB,
  community_group_id UUID,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_suppliers_category ON marketplace.suppliers USING GIN(categories);
CREATE INDEX idx_suppliers_region ON marketplace.suppliers(location_region);
CREATE INDEX idx_suppliers_rating ON marketplace.suppliers(rating_avg DESC);
CREATE INDEX idx_reviews_supplier ON marketplace.reviews(supplier_id);
CREATE INDEX idx_products_category ON marketplace.products(category);
CREATE INDEX idx_supplier_products_supplier ON marketplace.supplier_products(supplier_id);
```

### üîå API Endpoints

**Base:** `https://marketplace-api.up.railway.app/api/v1`

```
Fornecedores:
GET    /marketplace/suppliers              # Listar (query: ?category, ?region, ?rating)
POST   /marketplace/suppliers              # Criar perfil (fornecedor)
GET    /marketplace/suppliers/:id          # Ver perfil
PATCH  /marketplace/suppliers/:id          # Editar (s√≥ owner)

Reviews:
GET    /marketplace/suppliers/:id/reviews  # Listar reviews
POST   /marketplace/suppliers/:id/reviews  # Criar review
PATCH  /marketplace/reviews/:id            # Editar review
POST   /marketplace/reviews/:id/helpful    # Mark √∫til

Produtos & Pre√ßos:
GET    /marketplace/products               # Listar produtos
GET    /marketplace/products/:id/compare   # Comparar pre√ßos (m√∫ltiplos fornecedores)

Or√ßamentos:
POST   /marketplace/quotes/request         # Pedir or√ßamento
GET    /marketplace/quotes/requests        # Meus pedidos (restaurante)
GET    /marketplace/quotes/incoming        # Pedidos recebidos (fornecedor)
POST   /marketplace/quotes/:id/respond     # Responder or√ßamento (fornecedor)

Negocia√ß√£o Coletiva:
GET    /marketplace/bargains               # Listar negocia√ß√µes ativas
POST   /marketplace/bargains               # Criar negocia√ß√£o
POST   /marketplace/bargains/:id/join      # Juntar-se
```

---

## 10. IMPLEMENTA√á√ÉO

### üìÖ Timeline (Semanas 3-4)

**Semana 3:**
- Dia 1-2: Setup marketplace API, schema database, models Prisma
- Dia 3-4: API Suppliers (CRUD), Reviews (CRUD), Search
- Dia 5: Testes backend, deploy Railway

**Semana 4:**
- Dia 1-2: Frontend (Marketplace home, perfil fornecedor, pesquisa)
- Dia 3: Compara√ß√£o pre√ßos, reviews UI
- Dia 4: Pedidos or√ßamento, integra√ß√£o Comunidade (negocia√ß√£o coletiva)
- Dia 5: Deploy, testes E2E, beta testing

---

## 11. GO-TO-MARKET

### üéØ Estrat√©gia Lan√ßamento

**Fase 1: Seed Fornecedores (Semana 1-2 paralelo dev):**
- Eurico recruta 20-30 fornecedores (distribuidores regionais)
- Email: "Acesso gr√°tis a 50+ restaurantes iaMenu"
- Criar perfis completos (Eurico ajuda)

**Fase 2: Soft Launch Restauradores (Semana 5):**
- Email 50 users iaMenu: "Marketplace ao vivo! Compara pre√ßos, poupa ‚Ç¨200+/m√™s"
- Incentivo: "Primeiros 20 a deixar review = desconto 50% Academia"

**Fase 3: Primeiras Negocia√ß√µes Coletivas (Semana 6-8):**
- Eurico cria 3 negocia√ß√µes piloto (cerveja, azeite, carne)
- Recruta 10+ restaurantes cada
- Prova conceito (savings documentados)

---

## 12. RISCOS & MITIGA√á√ÉO

| Risco | Prob | Impacto | Mitiga√ß√£o |
|-------|------|---------|-----------|
| Fornecedores n√£o aderem | Alta | Cr√≠tico | Recrutar pessoalmente (Eurico), benef√≠cios claros (acesso clientes) |
| Pre√ßos desatualizados | M√©dia | Alto | Avisos "Pre√ßo indicativo, confirme com fornecedor" |
| Reviews falsas/spam | Baixa | M√©dio | S√≥ restauradores verificados, modera√ß√£o |
| Fornecedores existentes resistem mudan√ßa | Alta | M√©dio | Destacar complementaridade (n√£o substitui√ß√£o) |

---

## 13. APROVA√á√ÉO

### ‚úÖ Aprovado quando Eurico:
- [x] Confirma scope MVP (features suficientes ou remover algo?)
- [x] Confirma pode recrutar 20-30 fornecedores iniciais
- [x] Confirma timeline 2 semanas OK
- [x] Responde perguntas abaixo

**Perguntas:**
1. Consegues recrutar 20-30 fornecedores para seed marketplace?
2. Categorias propostas (bebidas/carne/peixe/etc) cobrem mercado?
3. Reviews an√≥nimos permitir ou s√≥ p√∫blicos?
4. Negocia√ß√£o coletiva no MVP ou deixar Fase 2?
SIM



---

**Status:** üìù Draft
**Pr√≥ximo:** Review Eurico ‚Üí Desenvolvimento Semana 3-4
**Owner:** Claude Code + Eurico

---

**Vers√£o:** 1.0
**Criado:** 2025-12-18
